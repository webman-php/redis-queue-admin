import{B as c}from"./TableImg.0d8083c9.js";import{T as f}from"./useForm.c8a9257b.js";import{u as b}from"./useTable.7d37dc26.js";import{T as g}from"./index.23b71f02.js";import{g as _}from"./common.5d70ba75.js";import{A as j,bN as x,a0 as m,B as w,D as T,w as l,a5 as F,z as h}from"./vendor.0b8b9a83.js";import{b as D}from"./index.34a534cc.js";import M from"./MessageDetailModal.f7d47e2e.js";import v from"./DropMenuItem.ed2d9048.js";import{_ as B}from"./index.83ee0647.js";/* empty css               *//* empty css               */import"./useWindowSizeFn.fd3295c9.js";import"./useContentViewHeight.6db2b245.js";/* empty css               *//* empty css               *//* empty css               *//* empty css              */import"./sortable.esm.6bfbf233.js";/* empty css               *//* empty css               */const[C,{openModal:N}]=D(),R=[{title:"\u6D88\u606F",dataIndex:"message"},{title:"\u65F6\u95F4",dataIndex:"time",width:"120px",customRender:({record:t})=>h(g,{value:t.time*1e3})}],A=j({components:{DropdownMenuItem:v,BasicTable:c,TableAction:f,MessageDetailModal:M},setup(){var s,a;const u=(a=(s=x().params)==null?void 0:s.id)!=null?a:"",[d]=b({columns:R,api:_("/app/queue/redis/normal/view/"+u),actionColumn:{width:120,title:"Action",dataIndex:"action",slots:{customRender:"action"}}});function p(i){let o=[],e=JSON.parse(i.message);e.time=new Date(e.time*1e3).toLocaleString().replace(/\//g,"-"),e.data=JSON.stringify(e.data,null," ");let n={time:"\u65F6\u95F4",delay:"\u5EF6\u8FDF\u65F6\u95F4",attempts:"\u5C1D\u8BD5\u6B21\u6570",queue:"\u6240\u5C5E\u961F\u5217",data:"\u53C2\u6570"};for(let r in e)o.push({field:n[r]||r,value:e[r]});N(!0,o)}return{register:C,registerTable:d,handleView:p}}}),I={class:"p-4"};function V(t,u,d,p,s,a){const i=m("TableAction"),o=m("BasicTable"),e=m("MessageDetailModal");return w(),T("div",I,[l(o,{onRegister:t.registerTable},{action:F(({record:n})=>[l(i,{actions:[{label:"\u67E5\u770B",onClick:t.handleView.bind(null,n)}]},null,8,["actions"])]),_:1},8,["onRegister"]),l(e,{onRegister:t.register,minHeight:200,width:600},null,8,["onRegister"])])}var te=B(A,[["render",V]]);export{te as default};
