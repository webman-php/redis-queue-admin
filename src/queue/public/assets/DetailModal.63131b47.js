var V=Object.defineProperty,X=Object.defineProperties;var F=Object.getOwnPropertyDescriptors;var _=Object.getOwnPropertySymbols;var H=Object.prototype.hasOwnProperty,q=Object.prototype.propertyIsEnumerable;var B=(e,s,n)=>s in e?V(e,s,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[s]=n,o=(e,s)=>{for(var n in s||(s={}))H.call(s,n)&&B(e,n,s[n]);if(_)for(var n of _(s))q.call(s,n)&&B(e,n,s[n]);return e},D=(e,s)=>X(e,F(s));import{B as G}from"./index.ba146865.js";import{a as J,z as K,j as C,x as Q,aH as T,X as U,w as Y,f as Z}from"./index.25bde1e8.js";import{A as S,r as w,j as g,u as t,w as u,bX as E,bE as ee,a4 as I,bf as te,W as se,ai as ne,B as re,a1 as oe,a5 as ae}from"./vendor.0b8b9a83.js";import{getDescSchema as ie}from"./data.28627d70.js";import"./useWindowSizeFn.fd3295c9.js";/* empty css               */function ce(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!ee(e)}const le={useCollapse:{type:Boolean,default:!0},title:{type:String,default:""},size:{type:String,validator:e=>["small","default","middle",void 0].includes(e),default:"small"},bordered:{type:Boolean,default:!0},column:{type:[Number,Object],default:()=>({xxl:4,xl:3,lg:3,md:3,sm:2,xs:1})},collapseOptions:{type:Object,default:null},schema:{type:Array,default:()=>[]},data:{type:Object}};var ue=S({name:"Description",props:le,emits:["register"],setup(e,{slots:s,emit:n}){const c=w(null),{prefixCls:y}=J("description"),d=K(),p=g(()=>o(o({},e),t(c))),h=g(()=>D(o({},t(p)),{title:void 0})),M=g(()=>!!t(p).title),W=g(()=>o({canExpand:!1},t(h).collapseOptions)),$=g(()=>o(o({},t(d)),t(h)));function A(r){c.value=o(o({},t(c)),r)}function R({label:r,labelMinWidth:f,labelStyle:a}){if(!a&&!f)return r;const i=D(o({},a),{minWidth:`${f}px `});return u("div",{style:i},[r])}function k(){const{schema:r,data:f}=t(h);return t(r).map(a=>{const{render:i,field:x,span:N,show:j,contentMinWidth:v}=a;if(j&&C(j)&&!j(f))return null;const O=()=>{var P;const l=(P=t(h))==null?void 0:P.data;if(!l)return null;const m=te(l,x);return m&&!se(l).hasOwnProperty(x)?C(i)?i("",l):"":C(i)?i(m,l):m!=null?m:""},L=v;return u(E.Item,{label:R(a),key:x,span:N},{default:()=>{if(!v)return O();const l={minWidth:`${L}px`};return u("div",{style:l},[O()])}})}).filter(a=>!!a)}const b=()=>{let r;return u(E,I({class:`${y}`},t($)),ce(r=k())?r:{default:()=>[r]})},z=()=>{const r=e.useCollapse?b():u("div",null,[b()]);if(!e.useCollapse)return r;const{canExpand:f,helpMessage:a}=t(W),{title:i}=t(p);return u(T,{title:i,canExpan:f,helpMessage:a},{default:()=>r,action:()=>Q(s,"action")})};return n("register",{setDescProps:A}),()=>t(M)?z():b()}});function de(e){if(!ne())throw new Error("useDescription() can only be used inside setup() or functional components!");const s=w(null),n=w(!1);function c(d){t(n)&&U()||(s.value=d,e&&d.setDescProps(e),n.value=!0)}return[c,{setDescProps:d=>{var p;(p=t(s))==null||p.setDescProps(d)}}]}const pe=Y(ue),De=S({props:{info:{type:Object,default:null}},setup(e){const{t:s}=Z(),[n]=de({column:2,schema:ie()});return(c,y)=>(re(),oe(t(G),I({width:800,title:t(s)("sys.errorLog.tableActionDesc")},c.$attrs),{default:ae(()=>[u(t(pe),{data:e.info,onRegister:t(n)},null,8,["data","onRegister"])]),_:1},16,["title"]))}});export{De as default};
