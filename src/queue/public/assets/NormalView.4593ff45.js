import{B as p}from"./TableImg.b3142596.js";import{T as b}from"./useForm.b92e9584.js";import{u as f}from"./useTable.41d972c7.js";import{T as g}from"./index.5cdb4d60.js";import{g as _}from"./common.cd99993f.js";import{A as j,bN as x,a0 as l,B as T,D as w,w as m,a5 as F,z as h}from"./vendor.0b8b9a83.js";import{b as v}from"./index.ba146865.js";import B from"./MessageDetailModal.2e6483a7.js";import{_ as D}from"./index.25bde1e8.js";/* empty css               *//* empty css               */import"./useWindowSizeFn.fd3295c9.js";import"./useContentViewHeight.98ac274f.js";/* empty css               *//* empty css               *//* empty css               *//* empty css              */import"./sortable.esm.6bfbf233.js";/* empty css               *//* empty css               */const[M,{openModal:C}]=v(),N=[{title:"\u6D88\u606F",dataIndex:"message"},{title:"\u65F6\u95F4",dataIndex:"time",width:"120px",customRender:({record:t})=>h(g,{value:t.time*1e3})}],R=j({components:{BasicTable:p,TableAction:b,MessageDetailModal:B},setup(){var s,a;const u=(a=(s=x().params)==null?void 0:s.id)!=null?a:"",[d]=f({columns:N,api:_("/app/queue/redis/normal/view/"+u),actionColumn:{width:120,title:"Action",dataIndex:"action",slots:{customRender:"action"}}});function c(i){let o=[],e=JSON.parse(i.message);e.time=new Date(e.time*1e3).toLocaleString().replace(/\//g,"-"),e.data=JSON.stringify(e.data,null," ");let n={time:"\u65F6\u95F4",delay:"\u5EF6\u8FDF\u65F6\u95F4",attempts:"\u5C1D\u8BD5\u6B21\u6570",queue:"\u6240\u5C5E\u961F\u5217",data:"\u53C2\u6570"};for(let r in e)o.push({field:n[r]||r,value:e[r]});C(!0,o)}return{register:M,registerTable:d,handleView:c}}}),A={class:"p-4"};function V(t,u,d,c,s,a){const i=l("TableAction"),o=l("BasicTable"),e=l("MessageDetailModal");return T(),w("div",A,[m(o,{onRegister:t.registerTable},{action:F(({record:n})=>[m(i,{actions:[{label:"\u67E5\u770B",onClick:t.handleView.bind(null,n)}]},null,8,["actions"])]),_:1},8,["onRegister"]),m(e,{onRegister:t.register,minHeight:100,width:600},null,8,["onRegister"])])}var Z=D(R,[["render",V]]);export{Z as default};
