import{B as f}from"./TableImg.95324dda.js";import{T as b}from"./useForm.3c5e3c4b.js";import{u as g}from"./useTable.ea9ec969.js";import{T as j}from"./index.9fc8585c.js";import{g as _}from"./common.f0c9327e.js";import{A as x,bN as w,a0 as m,B as D,D as F,H as T,w as u,a5 as M,z as h}from"./vendor.0b8b9a83.js";import{b as v}from"./index.7411de63.js";import B from"./MessageDetailModal.c8f950cc.js";import C from"./DropMenuItem.dfe40bbf.js";import{_ as k}from"./index.4236c607.js";/* empty css               *//* empty css               */import"./useWindowSizeFn.fd3295c9.js";import"./useContentViewHeight.7ff5c4dd.js";/* empty css               *//* empty css               *//* empty css               *//* empty css              */import"./sortable.esm.6bfbf233.js";/* empty css               *//* empty css               */const[N,{openModal:R}]=v(),V=[{title:"\u6D88\u606F",dataIndex:"message"},{title:"\u65F6\u95F4",dataIndex:"time",width:"120px",customRender:({record:t})=>h(j,{value:t.time*1e3})}],A=x({components:{DropdownMenuItem:C,BasicTable:f,TableAction:b,MessageDetailModal:B},setup(){var i,s;const o=(s=(i=w().params)==null?void 0:i.id)!=null?s:"",[l]=g({columns:V,api:_("/app/queue/redis/normal/view/"+o),actionColumn:{width:120,title:"Action",dataIndex:"action",slots:{customRender:"action"}}});function d(n){let a=[],e=JSON.parse(n.message);e.time=new Date(e.time*1e3).toLocaleString().replace(/\//g,"-"),e.data=JSON.stringify(e.data,null," ");let p={time:"\u65F6\u95F4",delay:"\u5EF6\u8FDF\u65F6\u95F4",attempts:"\u5C1D\u8BD5\u6B21\u6570",queue:"\u6240\u5C5E\u961F\u5217",data:"\u53C2\u6570"};for(let r in e)a.push({field:p[r]||r,value:e[r]});R(!0,a)}function c(){history.back()}return{register:N,registerTable:l,handleView:d,back:c}}}),I={class:"p-4"};function y(t,o,l,d,c,i){const s=m("TableAction"),n=m("BasicTable"),a=m("MessageDetailModal");return D(),F("div",I,[T("div",{onClick:o[0]||(o[0]=(...e)=>t.back&&t.back(...e))},"\u8FD4\u56DE"),u(n,{onRegister:t.registerTable},{action:M(({record:e})=>[u(s,{actions:[{label:"\u67E5\u770B",onClick:t.handleView.bind(null,e)}]},null,8,["actions"])]),_:1},8,["onRegister"]),u(a,{onRegister:t.register,minHeight:200,width:600},null,8,["onRegister"])])}var se=k(A,[["render",y]]);export{se as default};
