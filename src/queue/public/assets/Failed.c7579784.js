import{B as c}from"./TableImg.95324dda.js";import{T as p}from"./useForm.3c5e3c4b.js";import{u as f}from"./useTable.ea9ec969.js";import{T as g}from"./index.9fc8585c.js";import{g as _}from"./common.f0c9327e.js";import{b}from"./index.7411de63.js";import j from"./MessageDetailModal.c8f950cc.js";import{_ as F}from"./index.4236c607.js";import{A as x,a0 as o,B as T,D as h,w as a,a5 as w,z as B}from"./vendor.0b8b9a83.js";/* empty css               *//* empty css               */import"./useWindowSizeFn.fd3295c9.js";import"./useContentViewHeight.7ff5c4dd.js";/* empty css               *//* empty css               *//* empty css               *//* empty css              */import"./sortable.esm.6bfbf233.js";/* empty css               *//* empty css               */const[v,{openModal:D}]=b(),M=[{title:"\u6D88\u606F",dataIndex:"message"},{title:"\u65F6\u95F4",dataIndex:"time",width:"120px",customRender:({record:e})=>B(g,{value:e.time*1e3})}],C=x({components:{BasicTable:c,TableAction:p,MessageDetailModal:j},setup(){const[e]=f({columns:M,api:_("/app/queue/redis/failed/view"),actionColumn:{width:120,title:"Action",dataIndex:"action",slots:{customRender:"action"}}});function n(r){let s=[],t=JSON.parse(r.message);t.time=new Date(t.time*1e3).toLocaleString().replace(/\//g,"-"),t.data=JSON.stringify(t.data,null," ");let l={time:"\u65F6\u95F4",delay:"\u5EF6\u8FDF\u65F6\u95F4",attempts:"\u5C1D\u8BD5\u6B21\u6570",queue:"\u6240\u5C5E\u961F\u5217",data:"\u53C2\u6570",error:"\u9519\u8BEF\u4FE1\u606F"};for(let i in t)s.push({field:l[i]||i,value:t[i]});D(!0,s)}return{register:v,registerTable:e,handleView:n}}}),A={class:"p-4"};function E(e,n,r,s,t,l){const i=o("TableAction"),d=o("BasicTable"),u=o("MessageDetailModal");return T(),h("div",A,[a(d,{onRegister:e.registerTable},{action:w(({record:m})=>[a(i,{actions:[{label:"\u67E5\u770B",onClick:e.handleView.bind(null,m)}]},null,8,["actions"])]),_:1},8,["onRegister"]),a(u,{onRegister:e.register,minHeight:200,width:600},null,8,["onRegister"])])}var X=F(C,[["render",E]]);export{X as default};
