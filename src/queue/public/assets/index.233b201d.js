var h=(l,c,o)=>new Promise((t,m)=>{var f=e=>{try{a(o.next(e))}catch(i){m(i)}},p=e=>{try{a(o.throw(e))}catch(i){m(i)}},a=e=>e.done?t(e.value):Promise.resolve(e.value).then(f,p);a((o=o.apply(l,c)).next())});import{A as T,r as w,S as C,$ as D,n as k,a0 as A,B as b,D as j,aa as R,ap as S,F as B,G as I,w as s,u as r,a5 as n,ad as _,J as x}from"./vendor.0b8b9a83.js";import V from"./DetailModal.ef30e80f.js";import{B as F}from"./TableImg.95324dda.js";import{T as M}from"./useForm.3c5e3c4b.js";import{u as $}from"./useTable.ea9ec969.js";import{b as G}from"./index.7411de63.js";import{Z as H,f as N,aG as z}from"./index.4236c607.js";import{getColumns as J}from"./data.b0a29852.js";/* empty css               *//* empty css               */import"./useWindowSizeFn.fd3295c9.js";import"./useContentViewHeight.7ff5c4dd.js";/* empty css               *//* empty css               *//* empty css               *//* empty css              */import"./sortable.esm.6bfbf233.js";/* empty css               *//* empty css               */var y;(function(l){l.Error="/error"})(y||(y={}));const W=()=>H.get({url:y.Error}),Z={class:"p-4"},q=["src"],pe=T({setup(l){const c=w(),o=w([]),{t}=N(),m=z(),[f,{setTableData:p}]=$({title:t("sys.errorLog.tableTitle"),columns:J(),actionColumn:{width:80,title:"Action",dataIndex:"action",slots:{customRender:"action"}}}),[a,{openModal:e}]=G();C(()=>m.getErrorLogInfoList,u=>{D(()=>{p(k(u))})},{immediate:!0});function i(u){c.value=u,e(!0)}function E(){throw new Error("fire vue error!")}function v(){o.value.push(`${new Date().getTime()}.png`)}function L(){return h(this,null,function*(){yield W()})}return(u,K)=>{const g=A("a-button");return b(),j("div",Z,[(b(!0),j(R,null,S(o.value,d=>B((b(),j("img",{key:d,src:d},null,8,q)),[[I,!1]])),128)),s(V,{info:c.value,onRegister:r(a)},null,8,["info","onRegister"]),s(r(F),{onRegister:r(f),class:"error-handle-table"},{toolbar:n(()=>[s(g,{onClick:E,type:"primary"},{default:n(()=>[_(x(r(t)("sys.errorLog.fireVueError")),1)]),_:1}),s(g,{onClick:v,type:"primary"},{default:n(()=>[_(x(r(t)("sys.errorLog.fireResourceError")),1)]),_:1}),s(g,{onClick:L,type:"primary"},{default:n(()=>[_(x(r(t)("sys.errorLog.fireAjaxError")),1)]),_:1})]),action:n(({record:d})=>[s(r(M),{actions:[{label:r(t)("sys.errorLog.tableActionDesc"),onClick:i.bind(null,d)}]},null,8,["actions"])]),_:1},8,["onRegister"])])}}});export{pe as default};
