import{B as c}from"./TableImg.36a0aa1a.js";import{T as p}from"./useForm.ad554029.js";import{u as f}from"./useTable.15add907.js";import{T as _}from"./index.44ec0682.js";import{g}from"./common.763c9c7d.js";import{A as b,bN as j,a0 as r,B as F,D as x,w as u,a5 as T,z as h}from"./vendor.943fa63b.js";import{b as v}from"./index.7eabfedf.js";import w from"./MessageDetailModal.ccf3ed28.js";import{_ as B}from"./index.f7705ca9.js";/* empty css               *//* empty css               */import"./useWindowSizeFn.f212eff5.js";import"./useContentViewHeight.7e83edbb.js";/* empty css               *//* empty css               *//* empty css               *//* empty css              */import"./sortable.esm.6bfbf233.js";/* empty css               *//* empty css               */const[D,{openModal:M}]=v(),C=[{title:"\u6D88\u606F",dataIndex:"message"},{title:"\u65F6\u95F4",dataIndex:"time",width:"120px",customRender:({record:t})=>h(_,{value:t.time*1e3})}],R=b({components:{BasicTable:c,TableAction:p,MessageDetailModal:w},setup(){var o,i;(i=(o=j().params)==null?void 0:o.id)!=null;const[l]=f({title:"\u5931\u8D25\u961F\u5217",columns:C,api:g("/app/queue/redis/failed/view"),actionColumn:{width:120,title:"Action",dataIndex:"action",slots:{customRender:"action"}}});function d(m){let s=[],e=JSON.parse(m.message);e.time=new Date(e.time*1e3).toLocaleString().replace(/\//g,"-"),e.data=JSON.stringify(e.data,null," ");let n={time:"\u65F6\u95F4",delay:"\u5EF6\u8FDF\u65F6\u95F4",attempts:"\u5C1D\u8BD5\u6B21\u6570",queue:"\u6240\u5C5E\u961F\u5217",data:"\u53C2\u6570",error:"\u9519\u8BEF\u4FE1\u606F"};for(let a in e)s.push({field:n[a]||a,value:e[a]});M(!0,s)}return{register:D,registerTable:l,handleView:d}}}),A={class:"p-4"};function E(t,l,d,o,i,m){const s=r("TableAction"),e=r("BasicTable"),n=r("MessageDetailModal");return F(),x("div",A,[u(e,{onRegister:t.registerTable},{action:T(({record:a})=>[u(s,{actions:[{label:"\u67E5\u770B",onClick:t.handleView.bind(null,a)}]},null,8,["actions"])]),_:1},8,["onRegister"]),u(n,{onRegister:t.register,minHeight:100,width:600},null,8,["onRegister"])])}var Y=B(R,[["render",E],["__scopeId","data-v-59b30936"]]);export{Y as default};
