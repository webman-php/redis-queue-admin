import{B as f}from"./TableImg.36a0aa1a.js";import{T as _}from"./useForm.ad554029.js";import{u as g}from"./useTable.15add907.js";import{T as l}from"./index.44ec0682.js";import{g as F}from"./common.763c9c7d.js";import{b}from"./index.7eabfedf.js";import x from"./MessageDetailModal.ccf3ed28.js";import{_ as j}from"./index.f7705ca9.js";import{A as h,a0 as o,B as w,D,w as n,a5 as T,z as d}from"./vendor.943fa63b.js";/* empty css               *//* empty css               */import"./useWindowSizeFn.f212eff5.js";import"./useContentViewHeight.7e83edbb.js";/* empty css               *//* empty css               *//* empty css               *//* empty css              */import"./sortable.esm.6bfbf233.js";/* empty css               *//* empty css               */const[v,{openModal:B}]=b(),C=[{title:"\u6D88\u606F",dataIndex:"message"},{title:"\u5EF6\u8FDF",dataIndex:"delay",width:"120px"},{title:"\u521B\u5EFA\u65F6\u95F4",dataIndex:"time",width:"120px",customRender:({record:e})=>d(l,{value:e.time*1e3})},{title:"\u6267\u884C\u65F6\u95F4",dataIndex:"time",width:"120px",customRender:({record:e})=>d(l,{value:(e.time+e.delay)*1e3})}],y=h({components:{BasicTable:f,TableAction:_,MessageDetailModal:x},setup(){const[e]=g({title:"\u5EF6\u8FDF\u961F\u5217",columns:C,api:F("/app/queue/redis/delay/view"),actionColumn:{width:120,title:"Action",dataIndex:"action",slots:{customRender:"action"}}});function r(u){let i=[],t=JSON.parse(u.message);t.time=new Date(t.time*1e3).toLocaleString().replace(/\//g,"-"),t.exec_time=new Date((t.time+t.dalay)*1e3).toLocaleString().replace(/\//g,"-"),t.data=JSON.stringify(t.data,null," ");let s={id:"id",time:"\u65F6\u95F4",delay:"\u5EF6\u8FDF\u65F6\u95F4",exec_time:"\u6267\u884C\u65F6\u95F4",attempts:"\u5C1D\u8BD5\u6B21\u6570",queue:"\u6240\u5C5E\u961F\u5217",data:"\u53C2\u6570"};for(let a in s)i.push({field:s[a]||a,value:t[a]});B(!0,i)}return{register:v,registerTable:e,handleView:r}}}),M={class:"p-4"};function A(e,r,u,i,t,s){const a=o("TableAction"),m=o("BasicTable"),c=o("MessageDetailModal");return w(),D("div",M,[n(m,{onRegister:e.registerTable,showTableSetting:""},{action:T(({record:p})=>[n(a,{actions:[{label:"\u67E5\u770B",onClick:e.handleView.bind(null,p)}]},null,8,["actions"])]),_:1},8,["onRegister"]),n(c,{onRegister:e.register,minHeight:100,width:600},null,8,["onRegister"])])}var X=j(y,[["render",A],["__scopeId","data-v-390c1b2e"]]);export{X as default};
